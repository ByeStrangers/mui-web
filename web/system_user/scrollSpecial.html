<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>置顶/置底</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../static/css/common/mui/mui.css" rel="stylesheet" />
		<link href="../../static/css/app/common.css" rel="stylesheet" />
		<!--引入拓展的图标-->
		<link rel="stylesheet" href="../../static/css/common/icons/iconfont.css" />
		<style type="text/css">
			.specialContent {
				display: block;
				width: 42px;
				height: 100px;
				z-index: 999;
				position: fixed;
				right: -45px;
				bottom: 5%;
				/*border: 1px solid red;
				background-color: #C7EDCC;*/
			}
			
			.up,
			.down {
				display: block;
				width: 40px;
				height: 40px;
				line-height: 40px;
				text-align: center;
				font-size: x-large;
				margin-top: 5px;
				float: left;
				border-radius: 3px;
				border: 1px solid #CCCCCC;
			}
			
			.specialContent a {
				background-color: #C7EDCC;
			}
			
			.specialContent a:active {
				background-color: #C0C0C0;
			}
			
			/*效果二*/
			.specialContent1 {
				display: none;
				width: 42px;
				height: 100px;
				z-index: 999;
				position: fixed;
				right: 55px;
				bottom: 5%;
				/*border: 1px solid red;
				background-color: #C7EDCC;*/
			}
		</style>
	</head>

	<body>
		<div id="aaaa" class="mui-content mui-scroll-wrapper" style="border: 1px solid red;">
			<!--置顶/置底效果-->
			<div id="specialContent" class="specialContent">
				<a id="up" href="javascript:;" class="up mui-icon iconfont icon-up"></a>
				<a id="down" href="javascript:;" class="down mui-icon iconfont icon-down"></a>
			</div>
			<!--置顶/置底效果-->
			<div id="specialContent1" class="specialContent1">
				<a href="javascript:;" class="up mui-icon iconfont icon-up"></a>
				<a href="javascript:;" class="down mui-icon iconfont icon-down"></a>
			</div>

			<div class="mui-scroll">
				<ul class="mui-table-view">
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							顶部
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 3
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 1
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							Item 2
						</a>
					</li>
					<li class="mui-table-view-cell">
						<a class="mui-navigate-right">
							底部
						</a>
					</li>
				</ul>
			</div>
		</div>
		<script src="../../static/js/common/mui/mui.js"></script>
		<script src="../../static/js/common/jquery/jquery-3.3.1.js"></script>
		<script type="text/javascript">
			mui.init()
			mui.ready(function() {
				//滚动条初始化
				mui("#aaaa").scroll();

				var note = document.getElementById("aaaa");
				/*
				 * 以下变量很重要，由于监听滚动条事件，只要滚动一点点就会触发，所以通过一个标志来控制它，让他不每次都触发Jquery效果
				 * 一直触发animate动画，效果展示不友好，动作很慢
				 */
				var animalFlag = false;//表示隐藏
				note.addEventListener("scroll", function(e) {
					//获取滚动条位置，负数
					var currentScrollY = e.detail.y;
					//将置顶/置底显示
					if(currentScrollY <= -50){//需要显示
						if(!animalFlag){//当未展示时，让其展示出来
							$("#specialContent").animate({right:"5px"});
							$("#specialContent1").fadeIn("slow");
							animalFlag = true;
						}
					}
					else{//需要隐藏
						if(animalFlag){//当展示时，让其隐藏出来
							$("#specialContent").animate({right:"-45px"});
							$("#specialContent1").fadeOut("slow")
							animalFlag = false;
						}
						
					}
				},false);

				var upNode = document.getElementById("up");
				var downNode = document.getElementById("down");
				upNode.addEventListener("tap", function() {
					mui("#aaaa").scroll().scrollTo(0, 0, 100);
				}, false);
				downNode.addEventListener("tap", function() {
					mui("#aaaa").scroll().scrollToBottom()
				}, false);
			})
		</script>
	</body>

</html>